<!DOCTYPE html>
<html lang="en" class="bg-gray-950 text-white">

<head>
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self'; 
    script-src 'self' 'unsafe-inline'; 
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; 
    font-src 'self' https://fonts.gstatic.com; 
    connect-src 'self'; 
    object-src 'none'; 
    frame-ancestors 'self'; 
    base-uri 'self';
">
  <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta name="referrer-policy" content="strict-origin-when-cross-origin">
  <meta http-equiv="Permissions-Policy"
    content="geolocation=(), midi=(), microphone=(), camera=(), magnetometer=(), gyroscope=(), payment=()">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cloud Misconfiguration Explorer | D. Chandler Prince</title>

</head>

<body hidden class="bg-gray-950 text-white min-h-screen flex flex-col">
  <!-- 
    NAV BAR FOR "GUIDES & CASE STUDIES" PAGES
    - "Home" is inactive.
    - "Guides & Case Studies" is ACTIVE.
    - "Tools & Demos" is inactive.
  -->
  <site-nav></site-nav>

  <!-- Header -->
  <header class="bg-gradient-to-r from-blue-900 to-gray-900 py-10 px-4 text-center shadow-lg">
    <h1 class="text-4xl md:text-5xl font-bold mb-2 text-white tracking-tight">Interactive Cloud Misconfiguration
      Explorer</h1>
    <p class="max-w-2xl mx-auto text-gray-200 text-lg md:text-xl">
      A hands-on guide to common cloud security pitfalls. Click a component in the architecture diagram to analyze a
      potential misconfiguration.
    </p>
  </header>

  <main class="flex-1 px-4 py-10 max-w-7xl mx-auto w-full">
    <div class="grid lg:grid-cols-2 gap-8">
      <!-- Diagram Section -->
      <section class="bg-gray-900 p-6 rounded-xl shadow-lg">
        <h3 class="text-2xl font-semibold text-blue-400 mb-4 text-center">Sample Web Application Architecture</h3>
        <div id="diagram-container" class="w-full flex justify-center items-center">
          <!-- SVG Diagram -->
          <svg id="cloud-diagram" viewBox="0 0 800 500" class="max-w-full">
            <!-- VPC -->
            <rect x="10" y="10" width="780" height="480" rx="15" fill="none" stroke="#4b5563" stroke-width="3"
              stroke-dasharray="10 5" />
            <text x="400" y="40" text-anchor="middle" class="text-lg font-bold" fill="#6b7280">VPC</text>

            <!-- Internet Gateway -->
            <g id="component-igw" class="diagram-component">
              <rect x="50" y="220" width="100" height="60" rx="8" class="component-shape"></rect>
              <text x="100" y="255" text-anchor="middle" class="component-label">Internet Gateway</text>
            </g>

            <!-- Public Subnet -->
            <rect x="200" y="60" width="580" height="190" rx="10" fill="#111827" stroke="#374151" stroke-width="2" />
            <text x="230" y="85" fill="#6b7280" class="font-semibold">Public Subnet</text>

            <!-- Private Subnet -->
            <rect x="200" y="260" width="580" height="190" rx="10" fill="#111827" stroke="#374151" stroke-width="2" />
            <text x="230" y="285" fill="#6b7280" class="font-semibold">Private Subnet</text>

            <!-- EC2 Instance -->
            <g id="component-ec2" class="diagram-component">
              <rect x="400" y="120" width="120" height="70" rx="8" class="component-shape"></rect>
              <text x="460" y="150" text-anchor="middle" class="component-label">EC2 Instance</text>
              <text x="460" y="170" text-anchor="middle" class="component-label">(Web Server)</text>
            </g>

            <!-- Security Group -->
            <g id="component-sg" class="diagram-component">
              <rect x="240" y="120" width="120" height="70" rx="8" class="component-shape"></rect>
              <text x="300" y="155" text-anchor="middle" class="component-label">Security Group</text>
            </g>

            <!-- S3 Bucket -->
            <g id="component-s3" class="diagram-component">
              <rect x="350" y="320" width="120" height="70" rx="8" class="component-shape"></rect>
              <text x="410" y="355" text-anchor="middle" class="component-label">S3 Bucket</text>
            </g>

            <!-- IAM Role -->
            <g id="component-iam" class="diagram-component">
              <rect x="550" y="320" width="120" height="70" rx="8" class="component-shape"></rect>
              <text x="610" y="355" text-anchor="middle" class="component-label">IAM Role</text>
            </g>

            <!-- Connectors -->
            <line x1="150" y1="250" x2="270" y2="190" stroke="#4b5563" stroke-width="2" />
            <line x1="360" y1="155" x2="400" y2="155" stroke="#4b5563" stroke-width="2" />
            <path d="M 480 190 C 480 250, 450 320, 410 320" stroke="#4b5563" stroke-width="2" fill="none" />
            <path d="M 490 190 C 520 250, 550 320, 580 320" stroke="#4b5563" stroke-width="2" fill="none" />
          </svg>
        </div>
      </section>

      <!-- Analysis Section -->
      <section id="analysis-section" class="bg-gray-900 p-6 rounded-xl shadow-lg">
        <h3 class="text-2xl font-semibold text-blue-400 mb-4">Analysis</h3>
        <div id="analysis-content" class="space-y-4 text-gray-300">
          <!-- Content will be injected here by JavaScript -->
          <div id="initial-message" class="text-center py-16 text-gray-500">
            <span id="icon-click" class="mx-auto mb-2"></span>
            <p class="font-semibold">Click an interactive component in the diagram to learn about a common
              misconfiguration.</p>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <site-footer></site-footer>

  <script type="module" src="/cloud.js"></script>
  <script type="module" src="/main.js"></script>
</body>

</html>